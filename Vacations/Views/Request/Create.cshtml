@model Vacations.Request
@{
    /**/

    ViewBag.Title = "Crear";
    HoliDays[] holiDaysDate = ViewBag.holidaysDate as HoliDays[];
    DateTime[] holidates = ViewBag.holidates as DateTime[];
    Layout = (string)this.Session["Header"];
    if (this.Session["rolUsuario"] == null)
    {
        Layout = "~/Views/Shared/_LayoutHome.cshtml";
        <h2>Vista no autorizada, por favor @Html.ActionLink("inicie sesion", "Index", "Home")</h2>
    }
    else
    {

        <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">

            <script>
                // Ignore this in your implementation
                window.isMbscDemo = true;
            </script>


            <!-- Mobiscroll JS and CSS Includes -->
            <link rel="stylesheet" href="~/Content/Site.css">
            <script src="Scripts/jquery-1.9.1.min.js" type="text/javascript"></script>
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
            <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'>


            <style type="text/css">
                body {
                    margin: 0;
                    padding: 0;
                }
            </style>

        </head>


        <h2>Create</h2>

        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">@Html.ActionLink("Inicio >", "Index", "Home")</a></li>
                <li class="breadcrumb-item"><a href="#">@Html.ActionLink("Perfil >", "Profile", "Profile")</a></li>
                <li class="breadcrumb-item active" aria-current="page">Vacaciones ></li>
            </ol>
        </nav>

        using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <div class="form-horizontal">
                <h2>Solicitud de Vacaciones</h2>

                <div>
                    @if (!string.IsNullOrEmpty(ViewBag.Message))
                    {
                        <div class="alert-danger col-md-4">
                            @ViewBag.Message
                        </div><br /><br />
                    }
                </div>

                <div mbsc-page class="demo-multiple-day-selection">
                    <div mbsc-form>
                        <div class="mbsc-grid">
                            <div class="mbsc-row">
                                <div class="mbsc-col-sm-12 mbsc-col-md-4">
                                    <div class="mbsc-form-group">
                                        <div class="mbsc-form-group-title">Seleccione los días a solicitar</div>
                                        @Html.HiddenFor(model => model.days, htmlAttributes: new { @id = "date" })
                                        <div class="container">
                                            <h3>Bootstrap Multi Select Date Picker</h3>
                                            <input id="date" type="text" class="form-control date" placeholder="Elegir días" autocomplete="off">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Confirmar" class="btn btn-default" id="btnConfirm" />
                    </div>
                </div>
            </div>
        }




        <div>
            @Html.ActionLink("Volver a la lista", "Index")
        </div>
        @section scripts{
            <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
            <script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js'></script>
            <script src="~/Scripts/datepicker.js" type="text/javascript"></script>
            <script type="text/javascript">
            var holiDaysDate = @Html.Raw(Json.Encode(ViewBag.holidates));
            //var date = new Date(parseInt(holiDaysDate.counters.date));
            var freedays = []
            @foreach (var d in @ViewBag.holidates)
            {
                @:freedays.push("@d");
            }

            $('.date').datepicker({
                multidate: true,
                format: 'dd-mm-yyyy'
            });


            </script>

        }
    }
}